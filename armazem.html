<!doctype html>
<html>

<head>
    <title>Dashboard - Kohi Quality</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.18.1/moment.min.js"></script>
    <link rel="icon" href="./assets/LogoKohiPronto.png" type="image/x-icon">
    <script src="http://www.chartjs.org/dist/2.7.1/Chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        canvas {
            -moz-user-select: none;
            -webkit-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }
    </style>
    <link rel="stylesheet" href="style_armazem.css">
</head>

<body>

    <div class="header">
        <div class="logo"><img src="./assets/LogoKohiPronto.png" alt="logotipo"></div>
        <div class="container">
            <div class="sair"><a href="./dashboard.html">Voltar</a></div>
            <div class="sair"><a href="./index.html">Sair</a></div>
        </div>
    </div>

    <div class="container">
        <div class="menu">
            <div class="status_umidade" id="status_umidade">
                <span id="span_status_umidade"><b>Status de Umidade</b></span><br>
                <span id="span_umidade"></span>
            </div>
            <div class="status_temperatura" id="status_temperatura">
                <span id="span_status"><b>Status de Temperatura</b></span><br>
                <span id="span_temperatura"></span>
            </div>
        </div>

        <div class="graficos_linha">
            <div class="umid">
                <h1>Sensor DHT 11 - Umidade</h1>
                <section class="graficos">
                    <canvas id="dht11Temperatura"></canvas>
                </section>
            </div>
            <div class="temp">
                <h1>Sensor DHT 11 - Temperatura</h1>
                <section class="graficos">
                    <canvas id="dht11Umidade"></canvas>
                </section>
            </div>
        </div>
        <div class="especificacoes">
            <div class="especificacoes_umidade">
                <div class="esp_texto">
                    <span class="span_esp_umid"> <b>Especificações de valores de Umidade</b> </span>
                    <span class="span_esp_umid">Umidade Ideal: entre 50% e 60% </span>
                    <span class="alerta_atencao">Alerta de atenção para umidade alta: 59% </span>
                    <span class="alerta_atencao">Alerta de atenção para umidade baixa: 51%</span>
                    <span class="alerta_vermelho">Alerta vermelho: acima de 60% e abaixo de 50%</span>
                </div>
            </div>
            <div class="especificacoes_temperatura">
                <div class="esp_texto">
                    <span class="span_esp_temp"><b>Especificacoes de valores de Temperatura</b></span>
                    <span class="span_esp_umid">Temperatura Ideal: entre 10ºC e 23ºC</span>
                    <span class="alerta_atencao">Alerta de atenção para temperatura alta: 21ºC</span>
                    <span class="alerta_atencao">Alerta de atenção para temperatura baixa: 12ºC</span>
                    <span class="alerta_vermelho">Alerta vermelho: acima de 24ºC e abaixo de 10ºC</span>
                </div>
            </div>
        </div>
    </div>

</body>

</html>

<script>
    var temp_atual = 25;
    var umid_atual = 59;

    if (temp_atual < 10) {
        span_temperatura.innerHTML = "<b>TEMPERATURA ABAIXO DO RECOMENDADO</b>"
        status_temperatura.style = `background-color: #CA4224;`;
    } else if (temp_atual <= 12) {
        span_temperatura.innerHTML = "Fique atento, a temperatura está abaixando"
        status_temperatura.style = `background-color: #E9500F`;
    } else if (temp_atual <= 21) {
        span_temperatura.innerHTML = "Fique atento, a temperatura está subindo"
        status_temperatura.style = `background-color: #E9500F`;
    } else if (temp_atual > 23) {
        span_temperatura.innerHTML = "<b>TEMPERATURA ACIMA DO RECOMENDADO</b>"
        status_temperatura.style = `background-color: #D72418`;
    }

    if (umid_atual < 50) {
        span_umidade.innerHTML = "<b>UMIDADE ABAIXO DO RECOMENDADO</b>"
        status_umidade.style = `background-color: #D72418`;
    } else if (umid_atual <= 51 && umid_atual >= 52) {
        span_umidade.innerHTML = "Fique atento, a umidade está abaixando"
        status_umidade.style = `background-color: #FD8211`;
    } else if (umid_atual >= 59 && umid_atual <= 60) {
        span_umidade.innerHTML = "Fique atento, a umidade está subindo"
        status_umidade.style = `background-color: #FD8211`;
    } else if (umid_atual > 60) {
        span_umidade.innerHTML = "<b>UMIDADE ACIMA DO RECOMENDADO</b>"
        status_umidade.style = `background-color: #D72418`;
    }

    var contextoDht11Umidade = document.getElementById('dht11Umidade').getContext('2d');
    contextoDht11Umidade.canvas.width = 1000;
    contextoDht11Umidade.canvas.height = 300;
    Chart.defaults.backgroundColor = '#2E1402';
    Chart.defaults.borderColor = '#2E1402';
    Chart.defaults.fontcolor = '#2E1402';

    var dht11Umidade = new Chart(
        contextoDht11Umidade,
        {
            type: 'line',
            data: {
                labels: ['12:00', '13:00', '14:00', '15:00', '16:00', '17:00'],
                datasets: [{
                    label: 'Temperatura',
                    data: [30, 29, 28, 25, 22, 23],
                    borderColor: ['#6aa0b9'],
                    backgroundColor: ['#6aa0b9']
                }]
            },
            options: {
                scales: {
                    xAxes: [{
                        distribution: 'series',
                        ticks: {
                            beginAtZero: true
                        }
                    }],
                    yAxes: [{
                        scaleLabel: {
                            display: true,
                            labelString: 'Temperatura'
                        },
                        ticks: {
                            beginAtZero: true
                        }
                    }]
                },
                animation: {
                    duration: 0
                }
            }
        }
    );

    var contextoDht11Temperatura = document.getElementById('dht11Temperatura').getContext('2d');
    contextoDht11Temperatura.canvas.width = 1000;
    contextoDht11Temperatura.canvas.height = 300;
    var dht11Temperatura = new Chart(
        contextoDht11Temperatura,
        {
            type: 'line',
            data: {
                labels: ['12:00', '13:00', '14:00', '15:00', '16:00', '17:00'],
                datasets: [{
                    label: "Umidade",
                    data: [65.1, 65.8, 66.2, 65.4, 65.2, 65.9],
                    borderColor: ['#ff3232'],
                    backgroundColor: ['#ff3232']
                }]
            },
            options: {
                scales: {
                    xAxes: [{
                        distribution: 'series',
                        ticks: {
                            beginAtZero: true
                        }
                    }],
                    yAxes: [{
                        scaleLabel: {
                            display: true,
                            labelString: 'Umidade'
                        },
                        ticks: {
                            beginAtZero: true
                        }
                    }]
                },
                animation: {
                    duration: 0
                }
            }
        }
    );

</script>